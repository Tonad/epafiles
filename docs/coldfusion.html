<!DOCTYPE html>
<html lang="en"><!-- InstanceBegin template="/Templates/t4.dwt" codeOutsideHTMLIsLocked="false" -->
<!-- EPA Template, OneEPA Web, 17 November 2010 -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>Updating ColdFusion Templates with Template 4 | EPA Web Design | US EPA</title>
<meta name="DC.title" content="" />
<meta name="DC.description" content="These pages describe EPA's style guide for its web site." />
<meta name="keywords" content="" />
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="metaElements" -->
<!-- InstanceEndEditable -->
<meta name="DC.type" content="" />
<meta name="DC.Subject.epachannel" content="" />
<meta name="DC.Subject.epabrm" content="" />
<meta name="DC.Subject.epacat" content="" />
<meta name="DC.Subject.epaect" content="" />
<meta name="DC.Subject.epaemt" content="" />
<meta name="DC.Subject.epahealth" content="" />
<meta name="DC.Subject.epaindustry" content="" />
<meta name="DC.Subject.epaopt" content="" />
<meta name="DC.Subject.epappt" content="" />
<meta name="DC.Subject.eparat" content="" />
<meta name="DC.Subject.eparegulation" content="" />
<meta name="DC.Subject.eparit" content="" />
<meta name="DC.Subject.epasubstance" content="" />
<meta name="DC.audience" content="" />
<meta name="DC.coverage" content="" />
<meta name="DC.date.created" content="" />
<meta name="DC.date.modified" content="" />
<meta name="DC.date.archivedate" content="" />
<meta name="DC.creator" content="US EPA" />
<meta name="DC.language" content="en" />
<meta name="viewport" content="width=device-width; initial-scale=1.0"/>

<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<link rel="meta" href="/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
<!--RSS Feeds -->
<link rel="alternate" type="application/atom+xml" title="EPA.gov News" href="http://yosemite.epa.gov/opa/admpress.nsf/RSSRecentNews" />
<link rel="alternate" type="application/atom+xml" title="EPA.gov Headquarters Press Releases" href="http://yosemite.epa.gov/opa/admpress.nsf/RSSByLocation?open&location=Headquarters" />
<link rel="alternate" type="application/atom+xml" title="Greenversations, EPA's Blog" href="http://blog.epa.gov/blog/feed/" />

<!-- ALL PAGE STYLES BELOW THIS LINE -->
<link rel="stylesheet" href="http://www.epa.gov/epafiles/templates/webcms/css/epa.css" />
<!--[if IE 7]><link rel="stylesheet" href="http://www.epa.gov/epafiles/templates/webcms/css/ie7.css"/><![endif]-->
<!--[if lt IE 7]><link rel="stylesheet" href="http://www.epa.gov/epafiles/templates/webcms/css/ie6.css"/><![endif]-->
<!-- InstanceBeginEditable name="styles" -->
<!-- InstanceEndEditable -->
<!-- InstanceParam name="bodyClass" type="text" value="basic" -->
</head>
<body class="basic">
<!--googleoff: index-->
<p id="sitewidec"></p>
<p class="skip">Jump to <a href="#main" title="Jump to main content">main content</a> or <a href="#areanav" title="Jump to area navigation.">area navigation</a>.</p>
<div id="header">
  <p><a href="http://www.epa.gov/" title="US EPA Home Page"><img src="http://www.epa.gov/epafiles/templates/webcms/css/i/print-epa-logo.gif" alt="US Environmental Protection Agency logo" /></a></p>
  <form id="EPAsearch" method="get" action="http://nlquery.epa.gov/epasearch/epasearch">
    <fieldset>
      <ol>
        <li id="azindex"><a href="http://www.epa.gov/epahome/quickfinder.htm" title="Alphabetical list of top EPA topics">A-Z Index</a></li>
        <li><a href="http://www.epa.gov/search.html">Advanced Search</a></li>
        <li>
          <fieldset id="search">
            <legend>What are you looking for?</legend>
            <input name="querytext" id="searchbox" value=""/>
            <button id="searchbutton" type="submit" title="Search"></button>
          </fieldset>
        </li>
      </ol>
      <input type="hidden" name="fld" value="" />
      <input type="hidden" name="areaname" value="" />
      <input type="hidden" name="areacontacts" value="" />
      <input type="hidden" name="areasearchurl" value="" />
      <input type="hidden" name="result_template" value="epafiles_default.xsl" />
      <input type="hidden" name="filter" value="sample4filt.hts" />
    </fieldset>
  </form><!-- /search -->
  <ul>
    <li id="learn"><a href="http://www.epa.gov/gateway/learn/" title="Learn the Issues">Learn the Issues</a></li>
    <li id="scitech"><a href="http://www.epa.gov/gateway/science/" title="Science and Technology">Science &amp; Technology</a></li>
    <li id="laws"><a href="http://www.epa.gov/lawsregs/" title="Laws and Regulations">Laws &amp; Regulations</a></li>
    <li id="about"><a href="http://www.epa.gov/aboutepa/" title="About EPA">About EPA</a></li>
  </ul><!-- /IA Buckets -->
</div><!-- /header -->
<div id="content">
  <div id="area">
    <p><a href="http://www.epa.gov/epafiles/auxfiles/contactus.htm">Contact Us</a></p>
    <p>EPAFiles: Web Design</p>
  </div><!-- /area -->
  <div id="page">
    <div id="main">
      <ul id="breadcrumbs">
        <li class="first"><b>You are here:</b> <a href="http://www.epa.gov/">EPA Home</a></li>
        <!-- InstanceBeginEditable name="breadcrumbs" -->
    <li><a href="http://www.epa.gov/epafiles/index.html">EPA Web Design</a></li>
    <li><a href="../index.html#instrux">Updating or Creating Web pages</a></li>
    <li>Updating ColdFusion Templates</li>
    <!-- InstanceEndEditable -->
      </ul>
<!--googleon: index-->
      <h1><!-- InstanceBeginEditable name="PageName" -->Updating ColdFusion Templates with Template 4<!-- InstanceEndEditable --></h1>
      <!-- <epaold> -->
      <!-- EPA Archive Policy Disclaimer v2.0 04/29/05 -->
      <p id="archive">Note: EPA no longer updates this information, but it may be useful as a reference or resource.</p>
      <!-- </epaold> -->
      <p class="warning">EPA builds all web content in the Drupal WebCMS as of January 2013. All new microsites and resource directories will be created using Drupal WebCMS.  There is still content on EPA's legacy servers and this content will be maintained there until it is transformed and moved into the Drupal WebCMS.   This information on styles and look and feel only applies to the existing content using Template 4 or older versions of EPA's template.  Information for building new content is found in the <a href="http://www2.epa.gov/webguide">EPA Web Guide</a>.</p>
      <!-- InstanceBeginEditable name="content" -->
  <p><strong>Note:</strong> These directions apply to ColdFusion pages. This documentation has been updated to template 4.</p>
  <p>In general, if the documentation doesn't say anything about a specific section in the code, don't edit it.</p>
  <ol>
    <li><a href="#backup">Back Up</a></li>
    <li><a href="#templates">Get the Template(s) You Need</a></li>
    <li><a href="#custom">Customize the Template for Your Area</a>
      <ul>
        <li><a href="#headstuff">Start with the &#60;head&#62; and &#60;body&#62;</a></li>
        <li><a href="#headerstuff">Header &#60;div id="header"&#62;</a></li>
        <li><a href="#contentstuff">Content &#60;div id="content"&#62;</a></li>
        <li><a href="#areanavstuff">Left sidebar (Area Navigation) &#60;div id="area-nav"&#62;</a></li>
        <li><a href="#globalfooterstuff">Global Footer &#60;div id="footer"&#62;</a></li>
      </ul>
    </li>
    <li><a href="#apply">Save, Test, Tinker</a></li>
  </ol>
  <hr />
  <h2 id="backup">1. Back Up</h2>
  <p>Back up your site files before switching templates. It helps if you create a test folder.</p>
  <hr />
  <h2 id="templates">2. Get the Template(s) You Need</h2>
  <ol type="a">
    <li><a href="../templates/">Download the appropriate model template</a>.</li>
    <li>Create a new form</li>
    <li>Import the HTML source code from Template 4.x<br />
      Depending on whether you use Fusebox or have developed your own template, you will need to copy the HTML code for the Template 3 into the header and footer files.  If you were using a cfm file for the navigation side bar, this file will need to be included in the footer file.</li>
  </ol>
  <p><a href="faq.html#stylesheet">Should you download the style sheets and JavaScript files</a>?</p>
  <hr />
  <h2 id="custom">3. Customize the Template for Your Area</h2>
  <p>You may have other ways of populating the various fields of information required in your forms; the following examples illustrate how <acronym title="National Center for Environmental Assessment">NCEA</acronym> creates the information.</p>
  <h3 id="headstuff">Start with the &#60;head&#62; and &#60;body&#62;</h3>
  <h4>&#60;title&#62;</h4>
  <p>NCEA created a variable with data from an Oracle database which servers as the title of the record and thus the page. We call it "pageName".</p>
  <p>To reproduce that same information in the &#60;title&#62; section of the &#60;head&#62;, we use a computed text field that copies that information. Insert that field in the &#60;title&#62; section of the template so that the code in your header file looks like this:</p>
  <p><code>&#60;title&#62;&#60;cfoutput&#62;#pageName#&#60;&#47;cfoutput&#62; | NCEA | US EPA&#60;&#47;title&#62;</code></p>
  <p>We recommend editing your title to follow <a href="http://yosemite.epa.gov/OEI/webguide.nsf/standards-guidance/titletag">EPA's web standard for title elements</a>.</p>
  <h4>Metadata Elements</h4>
  <p>Metadata elements (meta tags) generally provide additional information about the document to search engines. These metadata elements will aid in building epa.gov's information architecture and our move to a Web Content Management System.</p>
  <p>NCEA uses fields within the database for metadata.</p>
  <p>As with the &#60;title&#62; field above, for the metadata information, create computed text fields which mirror the content in the &#60;body&#62;. The metadata code looks like this:</p>
  <p><code>&#60;meta name="keywords" content="&#60;cfoutput&#62;#qryRecs.keywords#&#60;&#47;cfoutput&#62;" /&#62;</code></p>
  <p>There are a <a href="http://yosemite.epa.gov/OEI/webguide.nsf/content/epawebtaxonomy">number of new metadata elements in Template 4</a>.</p>
  <h4>Importing Local Style Sheet(s)</h4>
  <p><a href="faq.html#stylesheet">I have local styles. What do I do about them</a>?</p>
  <h4>JavaScript</h4>
  <p>Do not remove the <code>&#60;script&#62;</code> elements calling the files <code>epa-core.js</code> or <code>jquery.js</code>. These files hold the code for the "New!" icon, the search suggest dropdown, the page last updated date (in the footer), and other functions the Agency may develop (including the ACSI survey). <a href="../templates/js.html">More on JavaScript in template 4</a>.</p>
  <h4>Template Layout</h4>
  <p>Classes on the <code>&#60;body></code> element dictate which layout the browser renders. NCEA uses <code>&#60;body class="#layoutStyle#"&#62;</code> to update the style specification dynamically. For more information on possible layouts, see the <a href="../templates/index.html">template page</a>.</p>
  <h4>EPA Site-wide Banner Announcements</h4>
  <p>If your page will become the home page for an area or a Program Office, in Dreamweaver, detach the page from the template and change "sitewidec" to "sitewideb". If this page is not a home page, leave it as "sitewidec". (If you're editing an AA/RA home page, the banner announcement will say "sitewidea". Do not edit.)</p>
  <p><a href="faq.html#gencode">More on site-wide announcements</a>.</p>
  <p class="pagetop"><a href="#content">Top of page</a></p>
  <h3 id="headerstuff">Header &#60;div id="header"&#62;</h3>
  <h4>Search</h4>
  <p><a href="http://yosemite.epa.gov/OEI/webguide.nsf/searchengine/codingsearch">Edit the search code with information for your area</a>.</p>
  <p class="pagetop"><a href="#content">Top of page</a></p>
  <h3 id="contentstuff">Content &#60;div id="content"&#62;</h3>
  <h4>Contact Us</h4>
  <p>Edit the Contact Us link so it points to your Contact Us page. Make sure your <a href="http://yosemite.epa.gov/OEI/webguide.nsf/standards-guidance/contactus">Contact Us page meets EPA specification</a>. <a href="http://yosemite.epa.gov/OEI/webguide.nsf/standards-guidance/emailaddresses">Email addresses must follow standards</a>, too. NCEA uses a variable (<code>#contactUsLink#</code>) for this. This link should be the first item inside the first <code>&#60;p>&#60;/p></code> of the <code>&#60;div id="area"></code>.</p>
  <h4>Recent Additions</h4>
  <p>Recent additions have been moved to the <a href="#areanavstuff">area navigation (left sidebar)</a>.</p>
  <h4>Area Name</h4>
  <p>Add your area name to the template by editing the <code>&#60;div id="areaname&#62; ... &#60;p&#62;</code>. <a href="http://yosemite.epa.gov/OEI/webguide.nsf/standards-guidance/areaname">More on area names</a>. NCEA uses a variable (<code>#app_office_name#</code>) for this. It is important to note that the template will not render as expected if there is no length for this element. Additionally, this should be inside the second <code>&#60;p>&#60;/p></code> in the <code>&#60;div id="area"></code>.</p>
  <h4>Using <code>id=main</code>, <code>id=areanav</code> within <code>&#60;div id="page"></code></h4>
  <p>Everything contained in the remainder of the page is within the <code>&#60;div id="page"></code> beginning with <code>&#60;div id="main"></code>.</p>
  <h5>Breadcrumbs</h5>
  <p>Insert your breadcrumb-generating code here. NCEA uses a variable generated from the record name, which is used in breadcrumbs section in a header file.  The code for the breadcrumbs looks like this:</p>
  <p><code>&#60;cfset crumbName="&#60;li>#pageName#&#60;/li&#62;"&#62;</code></p>
  <p>The code in the header file will look something like this:</p>
  <p><code>&#60;li&#62;&#60;a href="http:&#47;&#47;www.epa.gov&#47;ord">Research &#38; Development&#60;&#47;a&#62;&#60;&#47;li&#62;<br />
    &#60;li&#62;&#60;a href="index.cfm"&#62;NCEA Home&#60;&#47;a>&#60;&#47;li&#62;<br />
    &#60;cfoutput&#62;#crumbName#&#60;&#47;cfoutput&#62;</code></p>
  <p>You may want to use a few if statements to allow your header file to work for both the home page and the next level pages. Alternatively, it may include a file for breadcrumbs such as <code>&#60;cfinclude template="#breadcrumbLocation#"></code></p>
  <p>If you are not using information from a database to generate breadcrumbs, you will need to set the breadcrumb name at the top of each page, because they're displayed in an included file.</p>
  <p>Remove the &#62; (&amp;gt;) separators, if they exist in your current template. The master style sheet inserts separators automatically.</p>
  <h5>Page Name</h5>
  <p>NCEA uses a <code>dir_entry_name</code> field from EIMS (i.e., the <code>pageName</code> variable) for the name of the page. Insert your page name field here, so that the code looks like this:</p>
  <p><code>&#60;!-- BEGIN PAGE NAME --&#62;<br />
    &#60;h1&#62;&#60;cfoutput>#pageName#&#60;&#47;cfoutput&#62;&#60;/h1&#62;<br />
    &#60;!-- END PAGE NAME --&#62;</code></p>
   <p>It is important to note that the <code>pageName</code> variable should be in the header file.</p>
  <h5>Tabs</h5>
  <p>If your page contains tabbed data, you can include the file location of the tabs or use a series of IF statements to create show them. Each tab should be in a series of <code>&#60;li></code> tags. </p>
  <p>NCEA uses an include file that is given a dynamic variable name to include the correct file as needed. The variable <code>#tabLocation#</code> is defined using the absolute relative path from the domain (<code>/ncea/location_of_file.cfm</code>).</p>
  <p><pre>&#60;ul id="tabs">
  &#60;cfinclude template="#tabLocation#">
&#60;/ul></pre></p>
  <p>The code may look like:</p>
  <p><pre>&#60;li>&#60;a href="nceariskassess.cfm?ActType=RiskAssess">Risk Paradigm&#60;/a>&#60;/li>
&#60;li class="on>&#60;a href="healthri.cfm?ActType=RiskAssess">Human Health&#60;/a>&#60;/li>
&#60;li>&#60;a href="ecologic.cfm?ActType=RiskAssess">Ecological&#60;/a>&#60;/li></pre></p>
  <p>Remove any &#60;br> or <code>&amp;nbsp;</code> you may have in the list.</p>
  <h4>Content</h4>
  <p>Insert the field you use for your page content here. NCEA uses a variable from a SQL query named <code>qryRec</code> to populate the content area.  The code looks like this:</p>
  <p><pre>&#60;cfoutput query&#61;&#34;qryRecs&#34;&#62;
	&#60;p&#62;#variable1#&#60;&#47;p&#62;
	&#60;p&#62;#variable2#&#60;&#47;p&#62;
&#60;&#47;cfoutput&#62;</pre></p>
  <h5>Area Footer</h5>
  <p>If you have an Area Footer, add it. If not, delete the placeholder text. <a href="http://yosemite.epa.gov/OEI/webguide.nsf/standards-guidance/footers">More on area footers</a>.</p>
  <p class="pagetop"><a href="#content">Top of page</a></p>
  <h3 id="areanavstuff">Left sidebar (Area Navigation) &#60;div id="area-nav"&#62;</h3>
  <p>The area navigation holds your sidebar links. This portion of the code is at the bottom of the template, and must remain there. (It will display last when styles are disabled in a browser.) In the code, the area navigation is an unordered list. When viewed in a capable browser, the style sheet displays the area links as expected.</p>
  <p>Add your area sidebar links:</p>
  <ul>
    <li>Do not include line-breaks (&#60;br /&#62;) or non-breaking spaces (&amp;nbsp;). The style sheet automatically wraps and indents long text links.</li>
    <li>Each sidebar link is a separate list item (<code>&#60;li&#62;</code>).</li>
    <li>Begin with your area home page link (e.g., "Water Science Home"). If you didn't have one before, this is an excellent opportunity to add one.</li>
    <li>If your area is a "sub-area" (e.g., Water Quality Criteria is a sub-area of Water Science), include a link to your area home page (e.g., Water Science Home) and a link to the sub-area home page (e.g., Water Quality Criteria Home). Separate the two home pages with a horizontal rule (<code>&#60;hr /&#62;</code>)</li>
    <li>The next three links point to the Basic Information, Where You Live, and Recent Additions pages.</li>
    <li>Do not include line-breaks (<code>&#60;br /&#62;</code>) or non-breaking spaces (<code>&amp;nbsp;</code>). The style sheet automatically wraps and indents long text links.</li>
    <li>Links to Kids pages now belong on TROPO pages only. Do not include one here.</li>
  </ul>
  <p><a href="http://yosemite.epa.gov/OEI/webguide.nsf/standards-guidance/sidebars">More on what belongs in the sidebar</a>.</p>
  <h4>Example of sidebar (areanav) links</h4>
  <p><pre>&#60;div id="area-nav"&#62; &#60;!-- BEGIN AREA NAVIGATION --&#62;
  &#60;h4 class="skip"&#62;Local Navigation&#60;/h4&#62;
    &#60;ul&#62;
      &#60;li class="separator"&#62;&#60;a href="../index.html"&#62;Regional Home&#60;/a&#62;&#60;hr /&#62;&#60;/li&#62;
      &#60;li&#62;&#60;a href="careers/index.html"&#62;Careers&#60;/a&#62;
        &#60;ul&#62;
          &#60;li&#62;&#60;a href="careers/legal/index.html"&#62;Legal jobs&#60;/a&#62;&#60;/li&#62;
          &#60;li&#62;&#60;a href="careers/index.html"&#62;Other jobs&#60;/a&#62;&#60;/li&#62;
        &#60;/ul&#62;
      &#60;/li&#62;
    &#60;li&#62;&#60;a href="library/index.html"&#62;Library&#60;/a&#62;&#60;/li&#62;
  &#60;/ul&#62;
&#60;/div&#62; &#60;!-- END AREA NAVIGATION --&#62;</pre></p>
  <p class="pagetop"><a href="#content">Top of page</a></p>
  <hr />
  <h3 id="globalfooterstuff">Global Footer &#60;div id="footer"&#62;</h3>
  <h4>Contact Us</h4>
  <p>Edit the Contact Us link in the global footer so it points to your Contact Us page, ensuring that the link points to the same place as the Contact Us link at the top of the page.</p>
  <p class="pagetop"><a href="#content">Top of page</a></p>
  <hr />
  <h2 id="apply">4. Save, Test, Tinker</h2>
  <p>You'll have to tinker a bit to ensure the page looks exactly as you wish it to. Make sure that you open and close tags in the same file. It will ensure that when you update the file, you will not leave any tags open which can break the application. But other than appearance, these instructions should help you produce a page using the new template.</p>
  <p>Check your template against the <a href="../gotchas.htm">list of common issues</a>. Do not modify any code other than what is necessary to <a href="specification.html">meet the specification</a>. Editing or removing any other elements can seriously degrade the page.</p>
  <p>Edit your content. There are <a href="../s/index.html">a number of styles you can use</a>. Don't forget your <a href="../samples/">contact us, comments, and thank you response pages</a>.</p>
  <p>Recommended: clean up your markup, including layout tables. Now that browsers handle CSS more consistently, we can <a href="../s/index.html">use styles instead of tables to lay out Web pages</a>.</p>
  <p>You do need to verify that the code in your content section is XHTML 1.0 compliant.</p>
  <p class="pagetop"><a href="#content">Top of page</a></p>
  <!-- InstanceEndEditable -->
<!--googleoff: index-->
      <p id="areafooter">For help with your epa.gov web design, contact the <a href="http://www.epa.gov/epafiles/auxfiles/contactus.html">Web Template Workgroup</a>.</p>
    </div><!-- /main -->
    <div id="areanav">
      <h4 class="skip">Area Navigation</h4>
      <ul>
        <li class="separator"><a href="http://www.epa.gov/epafiles/">EPA Web Design Home</a><hr /></li>
        <li><a href="http://www.epa.gov/epafiles/templates/">HTML Templates</a></li>
        <li><a href="http://www.epa.gov/epafiles/s/">Styling your Content</a></li>
        <li><a href="http://www2.epa.gov/webguide">EPA Web Guide</a></li>
        <li><a href="http://www2.epa.gov/webguide/epa-web-standards">EPA Web Standards</a></li>
 </ul>
    </div><!-- /area-nav -->
  </div><!-- /page -->
</div><!-- /content -->
<div id="footer">
  <ul id="goodies">
    <li id="rss-news"><a href="http://www.epa.gov/newsroom/rssfeeds.htm">News Feeds</a></li>
    <li id="podcasts"><a href="http://www.epa.gov/epahome/podcasts.htm">Podcasts</a></li>
    <li id="mobile"><a href="http://m.epa.gov/">EPA Mobile</a></li>
    <li id="email-news"><a href="http://www.epa.gov/newsroom/email_signups.htm">News by Email</a></li>
    <li id="widgets"><a href="http://www.epa.gov/widgets/">Widgets</a></li>
  </ul>
  <ul id="globalfooter">
    <li><a href="http://www.epa.gov/">EPA Home</a></li>
    <li><a href="http://www.epa.gov/epahome/usenotice.htm">Privacy and Security Notice</a></li>
    <li class="last"><a href="http://www.epa.gov/epafiles/auxfiles/contactus.htm">Contact Us</a></li>
  </ul>
  <p id="seal">The Seal of the United States Environmental Protection Agency</p>
</div><!-- /footer -->
<p class="skip"><a href="#content" title="Jump to main content.">Jump to main content.</a></p>
<script src="http://www.epa.gov/epafiles/js/third-party/jquery.js"></script>
<script src="http://www.epa.gov/epafiles/js/epa-core-v4.js"></script>
<!-- ALL SCRIPTS BELOW THIS LINE -->
<!-- InstanceBeginEditable name="scripts" -->
<!-- InstanceEndEditable -->
</body>
<!-- InstanceEnd --></html>